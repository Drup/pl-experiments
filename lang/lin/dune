(ocamllex lexer)
(menhir
  (modules parser)
  (flags --explain --strict)
)

(executable
  (name lin)
  (libraries ocamlgraph sequence zoo)
  (preprocess (pps ppx_deriving.std))
)

(alias
 (name   runtest)
 (action (ignore-stdout (run ./lin.exe %{deps})))
 (deps (glob_files "*.lin"))
)